{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","components/services/pixabay-api.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","userQuery","handleInputChange","target","setState","value","handleSubmit","event","preventDefault","props","onSubmit","className","s","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","PureComponent","ImageGalleryItem","urlToImage","title","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","e","ImageGallery","console","log","imageGallery","map","item","Button","button","Modal","handleKeyDown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","overlay","modal","Component","App","articles","page","isLoading","showModal","error","toggleModal","prevState","handleFormSubmit","changePage","prevProps","keyword","fetch","then","result","json","res","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","app","loader","Object","keys","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,mBCAlDD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,oKCIrBC,E,4MAIJC,MAAQ,CACNC,UAAW,I,EAEbC,kBAAoB,YAAiB,IAAdC,EAAa,EAAbA,OACrB,EAAKC,SAAS,CAAEH,UAAWE,EAAOE,S,EAEpCC,aAAe,SAACC,GACdA,EAAMC,iBACN,EAAKC,MAAMC,SAAS,EAAKV,OACzB,EAAKI,SAAS,CAAEH,UAAW,M,4CAG7B,WACE,OACE,wBAAQU,UAAWC,IAAEC,UAArB,SACE,uBAAMF,UAAWC,IAAEE,WAAYJ,SAAUK,KAAKT,aAA9C,UACE,wBAAQU,KAAK,SAASL,UAAWC,IAAEK,iBAAnC,SACE,sBAAMN,UAAWC,IAAEM,sBAAnB,sBAGF,uBACEP,UAAWC,IAAEO,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUR,KAAKb,kBACfG,MAAOU,KAAKf,MAAMC,qB,GA/BNuB,iBAuCTzB,I,gBCtBA0B,EAnBU,SAAC,GAA+C,IAAD,IAA5ChB,MAASiB,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,MAASC,EAAc,EAAdA,QACxD,OACE,oBAAIjB,UAAWC,IAAEiB,iBAAjB,SACE,qBACEC,IAAKJ,EACLK,IAAKJ,EACLhB,UAAWC,IAAEoB,sBACbJ,QAAS,SAACK,GAAD,OAAOL,EAAQK,S,iBCYjBC,EAjBM,SAAC,GAAwB,IAAtBzB,EAAqB,EAArBA,MAAOmB,EAAc,EAAdA,QAE7B,OADAO,QAAQC,IAAI3B,GAEV,oBAAIE,UAAWC,IAAEyB,aAAjB,SACG5B,GACCA,EAAM6B,KAAI,SAACC,GAAD,OACR,cAAC,EAAD,CAAmC9B,MAAO8B,EAAMX,QAASA,GAAlCW,EAAKZ,a,iBCIvBa,EAZA,SAAC,GAAiB,IAAfZ,EAAc,EAAdA,QAChB,OACE,wBAAQZ,KAAK,SAASL,UAAWC,IAAE6B,OAAQb,QAASA,EAApD,2B,iBCAEc,E,4MASJC,cAAgB,YACD,WADe,EAAXC,MAEf,EAAKnC,MAAMoC,W,EAGfC,oBAAsB,YAA+B,EAA5B3C,SAA4B,EAApB4C,eAE7B,EAAKtC,MAAMoC,W,uDAff,WACEG,OAAOC,iBAAiB,UAAWlC,KAAK4B,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWnC,KAAK4B,iB,oBAc7C,WACE,OACE,qBAAKhC,UAAWC,IAAEuC,QAASvB,QAASb,KAAK+B,oBAAzC,SACE,qBAAKnC,UAAWC,IAAEwC,MAAlB,SACE,qBAAKtB,IAAKf,KAAKN,MAAMqB,IAAKC,IAAI,a,GAxBpBsB,aAmCLX,I,0CC5BTY,E,4MACJtD,MAAQ,CACNuD,SAAU,GACVC,KAAM,EACNvD,UAAW,GACXwD,WAAW,EACXC,WAAW,EACXC,MAAO,KACP7B,IAAK,I,EAGP8B,YAAc,SAAC3B,GACb,EAAK7B,UAAS,SAACyD,GAAD,MAAgB,CAC5BH,WAAYG,EAAUH,cAEpBzB,GACF,EAAK7B,SAAS,CAAE0B,IAAKG,EAAE9B,OAAO2B,O,EAgClCgC,iBAAmB,YAAoB,IAAjB7D,EAAgB,EAAhBA,UACpB,EAAKG,SAAS,CAAEH,UAAWA,EAAWwD,WAAW,K,EAGnDM,WAAa,WACX,EAAK3D,UAAS,SAACyD,GAAD,MAAgB,CAC5BL,KAAMK,EAAUL,KAAO,O,wDAlC3B,SAAmBQ,EAAWH,GAAY,IChCVL,EAAMS,EDgCG,OACnClD,KAAKf,MAAMC,YAAc4D,EAAU5D,WACrCc,KAAKX,SAAS,CAAEoD,KAAM,IAGtBzC,KAAKf,MAAMwD,OAASK,EAAUL,MAC9BzC,KAAKf,MAAMC,YAAc4D,EAAU5D,YCtCPuD,EDwCVzC,KAAKf,MAAMwD,KCxCKS,EDwCClD,KAAKf,MAAMC,UChC3CiE,MAAK,UAHK,oCAGL,cAIOD,EAJP,mBAFO,mCAEP,iBAI4CT,EAJ5C,kBDiCLW,MAAK,SAACC,GAAD,OAAYA,EAAOC,UACxBF,MAAK,SAACG,GACmB,IAApB,EAAKtE,MAAMwD,KACb,EAAKpD,SAAS,CAAEmD,SAAUe,EAAIf,YAE9B,EAAKnD,UAAS,SAACyD,GAAD,MAAgB,CAC5BN,SAAS,GAAD,mBAAMM,EAAUN,UAAhB,YAA6Be,EAAIf,eAE3CP,OAAOuB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,eAIfC,OAAM,SAAClB,GAAD,OAAW,EAAKvD,SAAS,CAAEuD,aACjCmB,SAAQ,kBAAM,EAAK1E,SAAS,CAAEqD,WAAW,S,oBAchD,WACE,OACE,sBAAK9C,UAAWC,IAAEmE,IAAlB,UACE,cAAC,EAAD,CAAWrE,SAAUK,KAAK+C,mBACzB/C,KAAKf,MAAMyD,UACV,cAAC,IAAD,CAAQ9C,UAAWC,IAAEoE,SAErB,cAAC,EAAD,CACEvE,MAAOM,KAAKf,MAAMuD,SAClB3B,QAASb,KAAK6C,cAGjBqB,OAAOC,KAAKnE,KAAKf,MAAMuD,UAAU4B,OAAS,GACzC,cAAC,EAAD,CAAQvD,QAASb,KAAKgD,aAEvBhD,KAAKf,MAAM0D,WACV,cAAC,EAAD,CAAO5B,IAAKf,KAAKf,MAAM8B,IAAKe,QAAS9B,KAAK6C,qB,GA1ElCP,aAiFHC,IExFf8B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFb,SAASc,eAAe,U,kBCR1B1F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.e55a931a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3qzoq\",\"modal\":\"Modal_modal__n503E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3MvS4\",\"loader\":\"App_loader__30iQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2wKcg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__-nrPI\"};","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends PureComponent {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n  state = {\r\n    userQuery: \"\",\r\n  };\r\n  handleInputChange = ({ target }) => {\r\n    this.setState({ userQuery: target.value });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ userQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n            value={this.state.userQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ props: { urlToImage, title }, onClick }) => {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={urlToImage}\r\n        alt={title}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={(e) => onClick(e)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  urlToImage: PropTypes.string,\r\n  title: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ props, onClick }) => {\r\n  console.log(props);\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {props &&\r\n        props.map((item) => (\r\n          <ImageGalleryItem key={item.title} props={item} onClick={onClick} />\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func,\r\n  props: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackDropClick = ({ target, currentTarget }) => {\r\n    if (target === currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay} onClick={this.handleBackDropClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.src} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n  src: PropTypes.string,\r\n};\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport { sendServerRequest } from \"./components/services/pixabay-api\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    articles: [],\n    page: 1,\n    userQuery: \"\",\n    isLoading: false,\n    showModal: false,\n    error: null,\n    src: \"\",\n  };\n\n  toggleModal = (e) => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n    }));\n    if (e) {\n      this.setState({ src: e.target.src });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.userQuery !== prevState.userQuery) {\n      this.setState({ page: 1 });\n    }\n    if (\n      this.state.page !== prevState.page ||\n      this.state.userQuery !== prevState.userQuery\n    ) {\n      sendServerRequest(this.state.page, this.state.userQuery)\n        .then((result) => result.json())\n        .then((res) => {\n          if (this.state.page === 1) {\n            this.setState({ articles: res.articles });\n          } else {\n            this.setState((prevState) => ({\n              articles: [...prevState.articles, ...res.articles],\n            }));\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n\n  handleFormSubmit = ({ userQuery }) => {\n    this.setState({ userQuery: userQuery, isLoading: true });\n  };\n\n  changePage = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.isLoading ? (\n          <Loader className={s.loader} />\n        ) : (\n          <ImageGallery\n            props={this.state.articles}\n            onClick={this.toggleModal}\n          />\n        )}\n        {Object.keys(this.state.articles).length > 0 && (\n          <Button onClick={this.changePage} />\n        )}\n        {this.state.showModal && (\n          <Modal src={this.state.src} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const sendServerRequest = (page, keyword) => {\r\n  // PIXABAY\r\n  // const baseUrl = \"https://pixabay.com/api/\";\r\n  // const API_KEY = \"23803222-9b3ffdbc29f05e2c5cc8bf419\";\r\n\r\n  const baseUrl2 = \"https://newsapi.org/v2/everything\";\r\n  const API_KEY_V2 = \"420434f168d84e3c954361c4f64a1828\";\r\n\r\n  return fetch(\r\n    // PIXABAY REQUEST\r\n    // `${baseUrl}?q=${keyword}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    // EVERYTHING REQUEST\r\n    `${baseUrl2}?q=${keyword}&apiKey=${API_KEY_V2}&page=${page}&pageSize=12`\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1WzKV\",\"searchForm\":\"Searchbar_searchForm__2_WFU\",\"searchFormButton\":\"Searchbar_searchFormButton__1xwjN\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2DG8m\",\"searchFormInput\":\"Searchbar_searchFormInput__1Uvn8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3xp3s\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__tmteV\"};"],"sourceRoot":""}