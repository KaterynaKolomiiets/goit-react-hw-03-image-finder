{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","components/services/pixabay-api.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","userQuery","handleInputChange","target","setState","value","handleSubmit","event","preventDefault","props","onSubmit","className","s","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","PureComponent","ImageGalleryItem","urlToImage","title","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","e","ImageGallery","imageGallery","map","item","url","Button","button","Modal","handleKeyDown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","overlay","modal","Component","App","articles","page","isLoading","showModal","error","toggleModal","prevState","handleFormSubmit","changePage","prevProps","keyword","fetch","then","result","json","res","alert","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","app","color","loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.723dd8ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3qzoq\",\"modal\":\"Modal_modal__n503E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3MvS4\",\"loader\":\"App_loader__30iQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2wKcg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__-nrPI\"};","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends PureComponent {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n  state = {\r\n    userQuery: \"\",\r\n  };\r\n  handleInputChange = ({ target }) => {\r\n    this.setState({ userQuery: target.value });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ userQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n            value={this.state.userQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ props: { urlToImage, title }, onClick }) => {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={urlToImage}\r\n        alt={title}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={(e) => onClick(e)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  urlToImage: PropTypes.string,\r\n  title: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ props, onClick }) => {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {props &&\r\n        props.map((item) => (\r\n          <ImageGalleryItem key={item.url} props={item} onClick={onClick} />\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func,\r\n  props: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackDropClick = ({ target, currentTarget }) => {\r\n    if (target === currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay} onClick={this.handleBackDropClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.src} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n  src: PropTypes.string,\r\n};\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport { sendServerRequest } from \"./components/services/pixabay-api\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    articles: [],\n    page: 1,\n    userQuery: \"\",\n    isLoading: false,\n    showModal: false,\n    error: null,\n    src: \"\",\n  };\n\n  toggleModal = (e) => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n    }));\n    if (e) {\n      this.setState({ src: e.target.src });\n    }\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.userQuery !== prevState.userQuery) {\n      this.setState({ page: 1 });\n    }\n    if (\n      this.state.page !== prevState.page ||\n      this.state.userQuery !== prevState.userQuery\n    ) {\n      this.setState({ isLoading: true });\n      sendServerRequest(this.state.page, this.state.userQuery)\n        .then((result) => result.json())\n        .then((res) => {\n          if (this.state.page === 1) {\n            this.setState({ articles: res.articles });\n          } else {\n            if (!res.articles) {\n              alert(\"No articles left!\")\n              return;\n            } else {\n              this.setState((prevState) => ({\n                articles: [...prevState.articles, ...res.articles],\n              }));\n              window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: \"smooth\",\n              });\n            }\n            }\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n\n  handleFormSubmit = ({ userQuery }) => {\n    this.setState({ userQuery: userQuery });\n  };\n\n  changePage = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.isLoading && (\n          <Loader type=\"Bars\" color=\"orangered\" className={s.loader} />\n        )}\n        <ImageGallery props={this.state.articles} onClick={this.toggleModal} />\n        {this.state.articles?.length > 0 && <Button onClick={this.changePage} />}\n        {this.state.showModal && (\n          <Modal src={this.state.src} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const sendServerRequest = (page, keyword) => {\r\n  // PIXABAY\r\n  // const baseUrl = \"https://pixabay.com/api/\";\r\n  // const API_KEY = \"23803222-9b3ffdbc29f05e2c5cc8bf419\";\r\n\r\n  const baseUrl2 = \"https://newsapi.org/v2/everything\";\r\n  const API_KEY_V2 = \"9dcbaaa9d7d54c17af8369a0d4acc852\";\r\n\r\n  return fetch(\r\n    // PIXABAY REQUEST\r\n    // `${baseUrl}?q=${keyword}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    // EVERYTHING REQUEST\r\n    `${baseUrl2}?q=${keyword}&apiKey=${API_KEY_V2}&page=${page}&pageSize=12`\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1WzKV\",\"searchForm\":\"Searchbar_searchForm__2_WFU\",\"searchFormButton\":\"Searchbar_searchFormButton__1xwjN\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2DG8m\",\"searchFormInput\":\"Searchbar_searchFormInput__1Uvn8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3xp3s\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__tmteV\"};"],"sourceRoot":""}